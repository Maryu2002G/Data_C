{% load static %}
<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SkillSet</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'nav.css' %}">
  <style>
    body {
      background-color: #eafaf1;
      font-family: 'Nunito', sans-serif;
      overflow-x: hidden; /* Evitar scroll horizontal */
    }

    /* Sidebar */
    /* Ajustar la barra lateral para permitir el scroll cuando exceda la altura */
    .sidebar {
      background-color: #FFFFFF;
      height: 100vh;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
      position: fixed;
      left: 0;
      top: 0;
      bottom: 0;
      width: 250px;
      overflow-y: auto; /* Añadir scroll vertical si es necesario */
      transition: transform 0.3s ease;
      z-index: 1000;
    }


    .sidebar.show {
      transform: translateX(0); /* Mostrar al hacer clic */
    }

    .sidebar h2 {
      color: #22577A;
      font-weight: bold;
    }

    .sidebar ul {
      padding: 0;
      list-style: none;
    }

    .sidebar ul li a {
      display: block;
      padding: 10px;
      color: #22577A;
      text-decoration: none;
      font-weight: 500;
      margin: 10px 0;
    }

    .sidebar ul li a:hover,
    .sidebar ul li a.active {
      background-color: #80ED99;
      border-radius: 8px;
      color: #FFFFFF;
    }

    .upgrade-btn {
      background-color: #57CC99; /* Color de fondo del botón */
      border: none;
      padding: 10px;
      width: 100%;
      color: #FFFFFF;
      font-weight: bold;
      border-radius: 8px;
      margin-top: 20px;
    }

    /* Contenido principal */
    .main-content {
      margin-left: 250px;
      padding: 20px;
      transition: margin-left 0.3s ease;
    }

    .banner {
      background-color: #C7F9CC;
      padding: 30px;
      border-radius: 12px;
      text-align: center;
      color: #22577A;
    }

    .banner h1 {
      font-size: 26px;
      font-weight: 700;
    }

    .section-title {
      margin-top: 30px;
      font-size: 24px;
      color: #22577A;
      font-weight: 600;
    }

    .card {
      background-color: #FFFFFF;
      border: none;
      border-radius: 12px;
      box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);
      padding: 20px;
      text-align: center;
    }

    .card img {
      width: 100px;
      height: 100px;
      margin-bottom: 10px;
    }

    .card p {
      color: #22577A;
      font-size: 14px;
    }

    .stats {
      background-color: #FFFFFF;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);
    }

    .stats h4 {
      color: #22577A;
      font-weight: bold;
    }

    /* Ajustes responsivos */
    @media (max-width: 768px) {
      .main-content {
        margin-left: 0; /* Ajustar margen */
      }

      .toggle-sidebar-btn {
        display: block; /* Mostrar botón en pantallas pequeñas */
      }

      .sidebar {
        transform: translateX(-100%); /* Ocultar inicialmente en pantallas pequeñas */
      }
    }

    @media (min-width: 769px) {
      .toggle-sidebar-btn {
        display: none; /* Ocultar botón en pantallas grandes */
      }
    }

    .toggle-sidebar-btn {
      padding: 10px 15px; /* Agregar padding al botón */
      margin: 10px; /* Margen alrededor del botón */
      background-color: #57CC99; /* Color del botón */
      color: #FFFFFF; /* Color del texto */
      border: none; /* Sin borde */
      border-radius: 8px; /* Bordes redondeados */
    }
    .pixel-btn {
  background-color: #c03e56; /* Color de fondo */
  color: white; /* Color del texto */
  border: none; /* Sin borde */
  padding: 10px 20px; /* Espaciado interno */
  font-size: 16px; /* Tamaño de la fuente */
  cursor: pointer; /* Cambiar cursor */
  position: relative; /* Para el efecto de pseudo-elemento */
  overflow: hidden; /* Para ocultar el efecto de partículas que se escapan */
  transition: background-color 0.3s ease; /* Transición suave para el fondo */
}

.pixel-btn:hover {
  background-color: #0056b3; /* Cambia el color al pasar el ratón */
}

@keyframes explode {
  0% {
    transform: scale(1); /* Sin escalado */
    opacity: 1; /* Totalmente visible */
  }
  50% {
    transform: scale(1.2); /* Aumentar tamaño al 120% */
    opacity: 0.8; /* Ligeramente transparente */
  }
  100% {
    transform: scale(0); /* Reducir a 0% */
    opacity: 0; /* Invisible */
  }
}

.pixel-btn:active {
  animation: explode 0.3s forwards; /* Aplicar la animación de explosión al hacer clic */
}

  </style>
  <!--animate buttom-->
  
</head>

<body>
  <!-- Botón para mostrar/ocultar el menú en pantallas pequeñas -->
  <button class="toggle-sidebar-btn btn d-md-none" onclick="toggleSidebar()">
    <i class="fas fa-bars"></i> Menu
  </button>

  <div class="container-fluid">
    <div class="row">
    
      <!-- Navbar lateral -->
      <nav id="sidebar" class="sidebar show">
        <div style="margin : 10px"></div>
        <div class="d-flex align-items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-pencil-fill me-2" viewBox="0 0 16 16" style="color: #57CC99;"> <!-- Ajusta el tamaño y color -->
              <path d="M8.211 2.047a.5.5 0 0 0-.422 0l-7.5 3.5a.5.5 0 0 0 .025.917l7.5 3a.5.5 0 0 0 .372 0L14 7.14V13a1 1 0 0 0-1 1v2h3v-2a1 1 0 0 0-1-1V6.739l.686-.275a.5.5 0 0 0 .025-.917z"/>
              <path d="M4.176 9.032a.5.5 0 0 0-.656.327l-.5 1.7a.5.5 0 0 0 .294.605l4.5 1.8a.5.5 0 0 0 .372 0l4.5-1.8a.5.5 0 0 0 .294-.605l-.5-1.7a.5.5 0 0 0-.656-.327L8 10.466z"/>

            </svg>
            <h2 class="mb-0" style="color: #38A3A5;">Sis</h2><h2 class="mb-0" style="color: #57CC99;">P</h2><h2 class="mb-0" style="color: #38A3A5;">ro</h2> <!-- Aplica el mismo color -->
          </div>
          <div style="margin : 50px"></div>
          
          
        <ul id="sidebar-menu">
          <li>
            <a href="{% url 'users' %}">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-backpack2" viewBox="0 0 16 16">
               
                <path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1zm-7.978-1L7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002-.014.002zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0M6.936 9.28a6 6 0 0 0-1.23-.247A7 7 0 0 0 5 9c-4 0-5 3-5 4q0 1 1 1h4.216A2.24 2.24 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816M4.92 10A5.5 5.5 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0m3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4"/>
              </svg>
              Usuarios 
            </a>
          </li>
          <li>
            <a href="{% url 'courses' %}">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-backpack2" viewBox="0 0 16 16">
                <path d="M4.04 7.43a4 4 0 0 1 7.92 0 .5.5 0 1 1-.99.14 3 3 0 0 0-5.94 0 .5.5 0 1 1-.99-.14"/>
                <path fill-rule="evenodd" d="M4 9.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5zm1 .5v3h6v-3h-1v.5a.5.5 0 0 1-1 0V10z"/>
                <path d="M6 2.341V2a2 2 0 1 1 4 0v.341c2.33.824 4 3.047 4 5.659v1.191l1.17.585a1.5 1.5 0 0 1 .83 1.342V13.5a1.5 1.5 0 0 1-1.5 1.5h-1c-.456.607-1.182 1-2 1h-7a2.5 2.5 0 0 1-2-1h-1A1.5 1.5 0 0 1 0 13.5v-2.382a1.5 1.5 0 0 1 .83-1.342L2 9.191V8a6 6 0 0 1 4-5.659M7 2v.083a6 6 0 0 1 2 0V2a1 1 0 0 0-2 0M3 13.5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5V8A5 5 0 0 0 3 8zm-1-3.19-.724.362a.5.5 0 0 0-.276.447V13.5a.5.5 0 0 0 .5.5H2zm12 0V14h.5a.5.5 0 0 0 .5-.5v-2.382a.5.5 0 0 0-.276-.447L14 10.309Z"/>
              </svg>
              Estudiantes 
            </a>
          </li>
          <li>
            <a href="{% url 'register' %}">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-people" viewBox="0 0 16 16">
                <path d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001m-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708z"/>
              </svg>
              Profesores
            </a>
          </li>

          <li>
            <a href="{% url 'activar' %}">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-people" viewBox="0 0 16 16">
                <path d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001m-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708z"/>
              </svg>
              Usuarios por Activar
            </a>
          </li>
          
          <li>
            <a href="{% url 'roles' %}">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-people" viewBox="0 0 16 16">
                <path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1zm-7.978-1L7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002-.014.002zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0M6.936 9.28a6 6 0 0 0-1.23-.247A7 7 0 0 0 5 9c-4 0-5 3-5 4q0 1 1 1h4.216A2.24 2.24 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816M4.92 10A5.5 5.5 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0m3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4"/>
              </svg>
              Asistentes
            </a>
          </li>

          <li>
            <a href="{% url 'list_testsStud' %}">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-people" viewBox="0 0 16 16">
                <path d="M4.04 7.43a4 4 0 0 1 7.92 0 .5.5 0 1 1-.99.14 3 3 0 0 0-5.94 0 .5.5 0 1 1-.99-.14M4 9.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5zm1 .5v3h6v-3h-1v.5a.5.5 0 0 1-1 0V10z"/>
                <path d="M6 2.341V2a2 2 0 1 1 4 0v.341c2.33.824 4 3.047 4 5.659v5.5a2.5 2.5 0 0 1-2.5 2.5h-7A2.5 2.5 0 0 1 2 13.5V8a6 6 0 0 1 4-5.659M7 2v.083a6 6 0 0 1 2 0V2a1 1 0 0 0-2 0m1 1a5 5 0 0 0-5 5v5.5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5V8a5 5 0 0 0-5-5"/>
              </svg>
              Presentar Prueba
            </a>
          </li>

          <li>
            <a href="{% url 'list_tests' %}">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-calendar2-check" viewBox="0 0 16 16">
                <path d="M10.854 8.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708 0"/>
                <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M2 2a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"/>
                <path d="M2.5 4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5z"/>
              </svg>
              Agendar Prueba
            </a>
          </li>

          <li>
            <a href="{% url 'exam_results' %}">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-clipboard-data" viewBox="0 0 16 16">
                <path d="M4 11a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0zm6-4a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0zM7 9a1 1 0 0 1 2 0v3a1 1 0 1 1-2 0z M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1z M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0z"/>
               
              </svg>
              Reportes Prueba
            </a>
          </li>
          <li>
            <a href="{% url 'roles' %}">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-people" viewBox="0 0 16 16">
                <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>
                <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286m1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94"/>
              </svg>
              Banco de preguntas
            </a>
          </li>

          <li>
            <a href="{% url 'roles' %}">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-people" viewBox="0 0 16 16">
                <path d="M3 14.5A1.5 1.5 0 0 1 1.5 13V3A1.5 1.5 0 0 1 3 1.5h8a.5.5 0 0 1 0 1H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5z"/>
                <path d="m8.354 10.354 7-7a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0"/>
              </svg>
              Comparar Resultados
            </a>
          </li>
        </ul>
       

      </nav>

      <!-- Contenido principal -->
      <main class="col-md-9 col-lg-10 main-content">
        <div class="d-flex justify-content-between align-items-center mb-4">
          <!-- Campo de búsqueda -->
          <h5 class="w-50"></h5>
      
          <!-- Contenedor de saludo y perfil -->
          <div class="d-flex align-items-center">
              <!-- Tarjeta de saludo con fondo transparente -->
              <div class="card d-flex flex-row align-items-center position-relative" style="width: 280px; border: none; cursor: pointer; padding: 0; background-color: rgba(255, 255, 255, 0.8);" id="userCard">
                  <div class="card-body d-flex align-items-center justify-content-center p-2" style="padding: 0.5rem;">
                      <div class="text-center me-2">
                          <h5 class="card-title mb-0" style="font-size: 1rem;">¡Hola, {{ username }}! 👋</h5>
                      </div>
                      <div class="user-menu">
                          <a href="#" class="user-icon" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                              <img src="https://picsum.photos/50" alt="Profile" class="user-avatar rounded-circle border border-primary" style="width: 50px; height: 50px;">
                          </a>
                      </div>
                  </div>
              </div>
      
              <!-- Desplegable de perfil -->
              <div class="user-dropdown dropdown-menu" style="margin-top: 365px; width: 280px; position: absolute;" aria-labelledby="userDropdown">
                  <div class="p-3 text-center">
                      <p class="mb-1">¡Hola, {{ username }}! 👋</p>
                      <small class="mb-1">{{ rol }}</small>
                  </div>
                  <div class="dropdown-divider"></div>
                  <ul class="list-unstyled p-3">
                      <li class="mb-2"><a class="dropdown-item" href="#">Mi perfil</a></li>
                      <form method="post" action="{% url 'logout' %}">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-danger">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0z"/>
                                <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708z"/>
                            </svg>
                            Cerrar Sesión
                        </button>
                    </form>
                  </ul>
              </div>
          </div>
      </div>
      
      
      <div class="container-fluid">
          {% block contenido %}{% endblock %}
      </div>
  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

  <!-- JS para colapso del sidebar -->
  <script>
    function toggleSidebar() {
      var sidebar = document.getElementById('sidebar');
      sidebar.classList.toggle('show');
    }

    // Cerrar el menú si se hace clic fuera de él
    document.addEventListener('click', function (event) {
      var sidebar = document.getElementById('sidebar');
      var toggleBtn = document.querySelector('.toggle-sidebar-btn');

      if (!sidebar.contains(event.target) && !toggleBtn.contains(event.target)) {
        sidebar.classList.remove('show');
      }
    });
  </script>
  <script>
    // Funcionalidad para mostrar/ocultar el dropdown de usuario al hacer clic en la tarjeta
    document.getElementById('userCard').addEventListener('click', function (event) {
        const dropdown = document.querySelector('.user-dropdown');
        dropdown.classList.toggle('show');
    });

    // Cerrar el dropdown al hacer clic fuera
    document.addEventListener('click', function (event) {
        const dropdown = document.querySelector('.user-dropdown');
        if (!event.target.closest('#userCard') && dropdown.classList.contains('show')) {
            dropdown.classList.remove('show');
        }
    });
</script>
 
</body>

</html>
